{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/cjsan/projects/benMemorialTemp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"C:/Users/cjsan/projects/benMemorialTemp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/cjsan/projects/benMemorialTemp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/cjsan/projects/benMemorialTemp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/cjsan/projects/benMemorialTemp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{format,parseISO}from'date-fns';import{MDBBtn,MDBCard,MDBCardBody,MDBCardTitle,MDBCardText,MDBCardFooter,MDBTextArea,MDBInputGroup}from'mdb-react-ui-kit';import getAllMemories from'../../services/getAllMemories';import newMemory from'../../services/newMemory';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Memories=function Memories(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),memories=_useState4[0],setMemories=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newMem=_useState6[0],setNewMem=_useState6[1];function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{getAllMemories().then(function(res){setMemories(res.data);setLoading(false);});}catch(err){console.log(err);}case 1:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}var handleAdd=function handleAdd(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setNewMem(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var handleSave=function handleSave(){newMemory(newMem).then(fetchData());};useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center text-center m-3\",children:\"Please share your favorite memories here. All are welcome, we just ask that you remain kind and courtious of others. You are welcome to post anonymously. Thank you.\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"m-2\",children:[/*#__PURE__*/_jsx(MDBInputGroup,{className:\"mb-2\",noBorder:true,children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Name\",name:\"name\",onChange:handleAdd})}),/*#__PURE__*/_jsx(MDBInputGroup,{children:/*#__PURE__*/_jsx(MDBTextArea,{className:\"bg-light\",label:\"Memory\",id:\"textArea\",rows:4,name:\"memory\",onChange:handleAdd})}),/*#__PURE__*/_jsx(MDBBtn,{type:\"submit\",className:\"m-2 bg-success\",onClick:handleSave,children:\"Post\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center m-4\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"~ Memories ~\"})}),memories.map(function(memory,index){return/*#__PURE__*/_jsxs(MDBCard,{alignment:\"center\",className:\"m-4\",children:[/*#__PURE__*/_jsxs(MDBCardBody,{children:[/*#__PURE__*/_jsxs(MDBCardTitle,{children:[\"Posted By \",memory.name]}),/*#__PURE__*/_jsx(MDBCardText,{children:memory.memory})]}),/*#__PURE__*/_jsx(MDBCardFooter,{children:format(parseISO(memory.createdAt),'MMMM dd, Y')})]},index);})]})});};","map":{"version":3,"names":["useEffect","useState","format","parseISO","MDBBtn","MDBCard","MDBCardBody","MDBCardTitle","MDBCardText","MDBCardFooter","MDBTextArea","MDBInputGroup","getAllMemories","newMemory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Memories","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","memories","setMemories","_useState5","_useState6","newMem","setNewMem","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","then","res","data","err","console","log","stop","handleAdd","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSave","children","className","noBorder","type","placeholder","onChange","label","id","rows","onClick","map","memory","index","alignment","createdAt"],"sources":["C:/Users/cjsan/projects/benMemorialTemp/src/components/memories/Memories.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { format, parseISO } from 'date-fns';\nimport {\n    MDBBtn,\n    MDBCard,\n    MDBCardBody,\n    MDBCardTitle,\n    MDBCardText,\n    MDBCardFooter,\n    MDBTextArea,\n    MDBInputGroup\n} from 'mdb-react-ui-kit';\n\nimport getAllMemories from '../../services/getAllMemories';\nimport newMemory from '../../services/newMemory';\n\nexport const Memories = () => {\n    const [loading, setLoading] = useState(true);\n    const [memories, setMemories] = useState([]);\n    const [newMem, setNewMem] = useState('')\n\n    async function fetchData() {\n        try {\n            getAllMemories()\n            .then((res) => {\n                setMemories(res.data);\n                setLoading(false);\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    } \n\n    const handleAdd = (e) => {\n        const { name, value } = e.target;\n        setNewMem((prev) => {\n            return { ...prev, [name]: value }\n        })\n    }\n\n    const handleSave = () => {\n        newMemory(newMem)\n            .then(fetchData())\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    return (\n        <>\n            {loading ? \n                <h1>Loading</h1>\n                :\n                <>\n                    <div className=\"d-flex justify-content-center text-center m-3\">\n                        Please share your favorite memories here. All are welcome, we just ask that you remain kind and courtious of others. You are welcome to post anonymously. Thank you.\n                    </div>\n\n                    <form className='m-2'>\n                        <MDBInputGroup className='mb-2' noBorder>\n                            <input className='form-control' type='text' placeholder='Name' name='name' onChange={handleAdd} />\n                        </MDBInputGroup>\n                        <MDBInputGroup>\n                            <MDBTextArea className='bg-light' label='Memory' id='textArea' rows={4} name='memory' onChange={handleAdd} />\n                        </MDBInputGroup>\n                        <MDBBtn type='submit' className='m-2 bg-success' onClick={handleSave}>\n                            Post\n                        </MDBBtn>\n                    </form>\n\n                    <div className=\"d-flex justify-content-center m-4\">\n                        <h1>\n                            ~ Memories ~\n                        </h1>\n                    </div>\n\n                    {memories.map((memory, index) => {\n                        return (\n                            <MDBCard alignment='center' className='m-4' key={index}>\n                                <MDBCardBody>\n                                    <MDBCardTitle>Posted By {memory.name}</MDBCardTitle>\n                                    <MDBCardText>\n                                        {memory.memory}\n                                    </MDBCardText>\n                                </MDBCardBody>\n                                <MDBCardFooter>{format(parseISO(memory.createdAt), 'MMMM dd, Y')}</MDBCardFooter>\n                            </MDBCard>\n                        )\n                    })}\n                </>\n            }   \n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}